(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["main","chunk-43418c31"],{"0055":function(e,t,n){"use strict";var r=n("4bfd"),a=n.n(r);t["default"]=a.a},"0631":function(e,t,n){var r=n("c20f"),a=n("2f85"),s=n("184b"),o="[object DOMException]",i="[object Error]";function c(e){if(!a(e))return!1;var t=r(e);return t==i||t==o||"string"==typeof e.message&&"string"==typeof e.name&&!s(e)}e.exports=c},3824:function(e,t,n){var r=n("ff23"),a=9007199254740991;function s(e){return r(e)&&e>=-a&&e<=a}e.exports=s},"463c":function(e,t,n){e.exports={content1:"main-287d83717c5e49dd37fb1bea5181859c",uerInfo:"main-8b4e716802bd573a81c2f45207aa676a",avatar:"main-143680839bf11b633cb570f481948f49",text:"main-e8ef3aa6ef11427dd6fd4e8de2660af2",desc:"main-c2240902892fe6b1325491f6ce86df2d",apiAudits:"main-9c5ac23284778182c093adf876173234",costTime:"main-d9ac3b5c697007c815b888f425772b9d",error:"main-19839c1ae7f47a7e6c5cc745275ff1a1",success:"main-266948f42e1ca9d6d6dfb3b8e34a5bdf",warn:"main-4a16e091fb1a9ef7767c82fca6e43288",doing:"main-4b171b9458a067aacf2c8695dc5a86b6",item:"main-e31f86dad8208dfa322ea6236cb18cd5",content2:"main-1997c284a25b26eb040764455590314a",active:"main-c17cd2b1484a7695e71d0f211ee04a34",footer:"main-3ab6ed83822aaf7879b5c8953549c511",notices:"main-46439453be28b67d8f1c4a7c0cb35ab8",notice:"main-17a4d9edbe913b5f5626d7b4b58efdfd"}},"4bfd":function(e,t,n){e.exports={header:"page-c687488282745351737a955495a9b17d",headerInner:"page-5fd71007d2a318fd3c48437090d0a4fb",title:"page-d1a2fbce8a74f128c9c5f2b86e6f8821",inner:"page-eb9c66952357b7faaec4ccca9c010df9",back:"page-a86cfb1bd65dbeb39b587ec9ba2463c3"}},"579a":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("cd-icon",e._g(e._b({attrs:{url:e.url,prefix:e.prefix}},"cd-icon",e.$attrs,!1),e.$listeners))},a=[],s={name:"HlIcon",componentName:"HlIcon",components:{},mixins:[],inheritAttrs:!1,props:{src:String,alt:String,paddingTop:String},data:function(){return{url:"//at.alicdn.com/t/font_1102612_ycfmo3zzjr.js",prefix:"hulo-icon"}},computed:{},methods:{},created:function(){},mounted:function(){}},o=s,i=n("17cc"),c=Object(i["a"])(o,r,a,!1,null,null,null),u=c.exports;n.d(t,"a",function(){return u})},"6e4d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("hl-page",{attrs:{title:"工作台"}},[n("el-row",{class:e.$style.content1,attrs:{gutter:10}},[n("el-col",{staticStyle:{height:"100%"},attrs:{xs:24,md:16}},[n("cd-container",{class:e.$style.uerInfo,attrs:{"hide-header":""}},[n("div",{class:e.$style.avatar},[n("img",{attrs:{src:"https://files.cloopm.com/avatar/a3080ab2-296f-4242-b23b-00bc17f980f3.png",alt:"用户头像"}})]),n("div",{class:e.$style.text},[n("p",[e._v("\n            你好,"+e._s(e.userName)+",欢迎回来\n          ")]),n("p",{class:e.$style.desc},[e._v("\n            "+e._s(e.get_(e.userBaseInfo_,"roleName"))+"\n          ")])])]),n("cd-panel",{class:e.$style.apiAudits,attrs:{"fixed-footer":"","fixed-header":"","plain-footer":"",title:"接口审计信息"}},[n("cd-table",{staticStyle:{width:"100%"},attrs:{data:e.apiAudits,size:"mini"}},[n("el-table-column",{attrs:{prop:"userName",label:"用户名",width:"120"}}),n("el-table-column",{attrs:{prop:"requestUri",label:"uri","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"method",label:"method",width:"90"}}),n("el-table-column",{attrs:{prop:"statusCode",label:"状态码",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{type:t.row.statusCodeSubject,size:"mini","disable-transitions":""}},[e._v(e._s(t.row.statusCode))])]}}])}),n("el-table-column",{attrs:{prop:"costTime",label:"时间消耗",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{class:[e.$style.costTime,e.$style[t.row.costTimeStatus]]},[e._v("\n                "+e._s(t.row.costTime)+"\n              ")])]}}])}),n("cd-table-column",{attrs:{prop:"requestTime",label:"请求时间",width:"160"}})],1),n("footer",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[n("el-pagination",{attrs:{total:e.apiAuditTotal,"current-page":e.apiAuditPageIndex,"page-size":3,layout:"prev, pager, next"},on:{"update:currentPage":function(t){e.apiAuditPageIndex=t},"update:current-page":function(t){e.apiAuditPageIndex=t}}})],1)],1)],1),n("el-col",{staticStyle:{height:"100%"},attrs:{xs:24,md:8}},[n("cd-panel",{class:e.$style.doing,staticStyle:{height:"100%"},attrs:{title:"进行中的项目"}},[n("el-row",{class:e.$style.item},[n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v("已解决")]),n("el-col",{staticStyle:{height:"100%","padding-top":"26px"},attrs:{span:12}},[n("el-progress",{attrs:{"show-text":!1,percentage:70}})],1),n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[e._v("\n            单数："),n("cd-text-value",{staticStyle:{"font-size":"18px"}},[e._v("23")])],1)],1),n("el-row",{class:e.$style.item},[n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[e._v("已关闭")]),n("el-col",{staticStyle:{height:"100%","padding-top":"26px"},attrs:{span:12}},[n("el-progress",{attrs:{"show-text":!1,percentage:20,color:"#000"}})],1),n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[e._v("\n            单数："),n("cd-text-value",{staticStyle:{"font-size":"18px"}},[e._v("18")])],1)],1)],1)],1)],1),n("el-row",{class:e.$style.content2,attrs:{gutter:10}},[n("el-col",{staticStyle:{height:"100%"},attrs:{xs:24,md:14}},[n("cd-panel",{class:e.$style.active,staticStyle:{height:"100%"},attrs:{title:"登录日志","fixed-footer":"","fixed-header":"","plain-footer":""}},[n("cd-table",{staticStyle:{width:"100%"},attrs:{data:e.logs,size:"mini"}},[n("el-table-column",{attrs:{prop:"address",label:"地点",width:"140"}}),n("cd-table-column",{attrs:{prop:"ipAddress",label:"ip地址",width:"120"}}),n("cd-table-column",{attrs:{prop:"userAgent",label:"客户端","show-overflow-tooltip":""}}),n("cd-table-column",{attrs:{prop:"loginTime",label:"登录时间",width:"150"}})],1),n("footer",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[n("el-pagination",{attrs:{total:e.logTotal,"current-page":e.logPageIndex,"page-size":4,layout:"prev, pager, next"},on:{"update:currentPage":function(t){e.logPageIndex=t},"update:current-page":function(t){e.logPageIndex=t}}})],1)],1)],1),n("el-col",{class:e.$style.notices,staticStyle:{height:"100%"},attrs:{xs:24,md:10}},[n("cd-panel",{staticStyle:{height:"100%"},attrs:{title:"公告","fixed-header":""}},e._l(e.notices,function(t){return n("el-row",{key:t.id,class:e.$style.notice,attrs:{gutter:3}},[n("el-col",{class:e.$style.item,attrs:{xs:7,md:10}},[n("hl-icon",{staticStyle:{color:"rgb(255, 191, 0)"},attrs:{type:"shengyin"}}),e._v("\n              \n            "),n("cd-text-action",[e._v(e._s(t.title))])],1),n("el-col",{class:e.$style.item,attrs:{xs:7,md:7}},[e._v("\n            "+e._s(t.system)+"\n          ")]),n("el-col",{class:e.$style.item,staticStyle:{"text-align":"right"},attrs:{xs:10,md:7}},[e._v("\n            "+e._s(t.date)+"\n          ")])],1)}),1)],1)],1)],1)},a=[],s=n("f27c"),o=n.n(s),i=n("ce9b"),c=n("579a"),u=n("d4af"),l=n("f087"),d=n("fddc"),p=n.n(d),f=n("c992"),h=n.n(f);function g(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(u){return void n(u)}i.done?t(c):Promise.resolve(c).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var s=e.apply(t,n);function o(e){g(s,r,a,o,i,"next",e)}function i(e){g(s,r,a,o,i,"throw",e)}o(void 0)})}}var v={name:"MainPage",components:{HlPage:i["a"],HlIcon:c["a"]},withLoading:!0,data:function(){return{apiAudits:[],notices:[],apiAuditTotal:0,apiAuditPageIndex:1,logs:[],logTotal:0,logPageIndex:1}},computed:{userName:function(){return this.get_(this.userBaseInfo_,"lastName")||this.get_(this.userBaseInfo_,"userName")}},watch:{apiAuditPageIndex:function(){this.loadApiAudit()},logPageIndex:function(){this.loadLog()}},methods:{loadApiAudit$:function(){var e=m(o.a.mark(function e(){var t;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].listApiAudits({},this.apiAuditPageIndex,4);case 2:t=e.sent,this.apiAudits=(t.content||[]).map(function(e){var t=e;return Number.isSafeInteger(t.requestTime)&&(t.requestTime=h()(t.requestTime).format("YY-MM-DD HH:mm:ss")),t.costTime>500?t.costTimeStatus="warn":t.costTime>1e3?t.costTimeStatus="error":t.costTimeStatus="success",t.statusCodeSubject=200===t.statusCode?"success":"danger",t}),this.apiAuditTotal=t.total||0;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),loadLog$:function(){var e=m(o.a.mark(function e(){var t;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["default"].listLoginLogs({userName:this.get_(this.userBaseInfo_,"userName")},this.logPageIndex,3);case 2:t=e.sent,this.logs=(t.content||[]).map(function(e){var t=e;return t.address=e.country+e.province+e.city,t}),this.logTotal=t.total||0;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=m(o.a.mark(function e(){return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.notices=p.a.mock({"data|10-30":[{id:"@id",title:"@ctitle(1, 25)","system|1":["物流云体验-cnpmtest","cbpm系统"],date:'@date("yyyy-MM-dd hh:mm:ss")'}]}).data,e.next=3,this.loadApiAudit();case 3:return e.next=5,this.loadLog();case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},w=v,b=n("882d"),y=n("17cc");function x(e){this["$style"]=b["default"].locals||b["default"]}var k=Object(y["a"])(w,r,a,!1,x,null,null);t["default"]=k.exports},"882d":function(e,t,n){"use strict";var r=n("463c"),a=n.n(r);t["default"]=a.a},ce9b:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("cd-page",e._g(e._b({},"cd-page",e.$attrs,!1),e.$listeners),[e.hideHeader?e._e():e._t("header",[n("div",{class:e.$style.header},[e.showBack?n("hl-icon",{class:e.$style.back,attrs:{type:"fanhui"},nativeOn:{click:function(t){return e.back()}}}):e._e(),e.title?n("span",{class:e.$style.title},[e._v(e._s(e.title))]):e._e(),n("div",{class:e.$style.headerInner},[e._t("header-inner")],2)],1)]),n("div",{class:e.innerCls},[e._t("default")],2)],2)},a=[],s=n("579a"),o={name:"HlPage",componentName:"HlPage",components:{HlIcon:s["a"]},mixins:[],inheritAttrs:!1,props:{hideHeader:Boolean,title:String,innerClass:String,showBack:Boolean},data:function(){return{}},computed:{innerCls:function(){return this.innerClass?[this.$style.inner].concat(this.innerClass):[this.$style.inner]}},methods:{back:function(){this.$router.go(-1)}},created:function(){},mounted:function(){}},i=o,c=n("0055"),u=n("17cc");function l(e){this["$style"]=c["default"].locals||c["default"]}var d=Object(u["a"])(i,r,a,!1,l,null,null),p=d.exports;n.d(t,"a",function(){return p})},d4af:function(e,t,n){"use strict";var r=n("e1d2"),a={};a.listApiAudits=r["a"].makePagingRequest("/apiAudits"),t["a"]=a},e1d2:function(e,t,n){"use strict";n.d(t,"a",function(){return A});var r=n("f27c"),a=n.n(r),s=n("03c7"),o=n.n(s),i=n("2499"),c=n.n(i),u=n("c83a"),l=n.n(u),d=n("2901"),p=n.n(d),f=n("0631"),h=n.n(f),g=n("3824"),m=n.n(g),v=n("bf92"),w=n.n(v),b=n("7f43"),y=n.n(b),x=n("5ee4"),k=n.n(x),_=n("0162");function I(e,t,n,r,a,s,o){try{var i=e[s](o),c=i.value}catch(u){return void n(u)}i.done?t(c):Promise.resolve(c).then(r,a)}function $(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var s=e.apply(t,n);function o(e){I(s,r,a,o,i,"next",e)}function i(e){I(s,r,a,o,i,"throw",e)}o(void 0)})}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(){return window.$h.apiErrorPrefix||"__HSCF__ERROR__"}y.a.defaults.paramsSerializer=function(e){return k.a.stringify(e)};var A=function(){function e(t){var n=t.baseUrl,r=t.timeout,a=t.option,s=void 0===a?{}:a,o=t.requestSuccessInterceptor,i=void 0===o?e.authRequestInterceptor:o,c=t.requestErrorInterceptor,u=void 0===c?e.errorInterceptor:c,l=t.responseSuccessInterceptor,d=void 0===l?e.hscfResponseInterceptor:l,p=t.responseErrorInterceptor,f=void 0===p?e.errorInterceptor:p;T(this,e);var h=s;h.baseURL=n||s.baseUrl||e.getDefaultBaseUrl(),h.timeout=r||s.timeout||window.$h.requestTimeout,h.headers=s.headers||{},h.headers["Content-Type"]=s.headers["Content-Type"]||"application/json",this.option=h,this.axios=y.a.create(h),this.axios.interceptors.request.use(i,u),this.axios.interceptors.response.use(d,f)}return q(e,[{key:"getRequest",value:function(){return this.axios}}],[{key:"getDefaultBaseUrl",value:function(){return window.$h.baseUrl}},{key:"unauthRequestInterceptor",value:function(){var e=$(a.a.mark(function e(t){return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"authRequestInterceptor",value:function(){var t=$(a.a.mark(function t(n){var r,s;return a.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(r=n,!r.$notPermission){t.next=3;break}return t.abrupt("return",r);case 3:return t.prev=3,t.next=6,e._getToken();case 6:return s=t.sent,w()(r,"headers.Authorization",s),t.abrupt("return",r);case 11:throw t.prev=11,t.t0=t["catch"](3),new Error("".concat(R(),"L401-").concat(t.t0.message));case 14:case"end":return t.stop()}},t,null,[[3,11]])}));function n(e){return t.apply(this,arguments)}return n}()},{key:"_getToken",value:function(){var t=$(a.a.mark(function t(){var n,r,s,o,i,c,u,l,d;return a.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=window.$h.getAuthInfo()||{},r=n.refreshToken,s=n.accessToken,o=n.lastUpdateTime,i=n.expiresIn,s){t.next=4;break}throw e._login(),new Error("你尚未登录,正在跳转到登录页面");case 4:if(r&&m()(o)&&m()(i)){t.next=6;break}return t.abrupt("return",s);case 6:if(c=(new Date).getTime(),u=c-o>=i-window.$h.refreshTokenTolerantTime,u){t.next=10;break}return t.abrupt("return",s);case 10:return e._refreshToken||(e._refreshToken=y.a.post("/auth/token",{grant_type:"refresh_token",refresh_token:r,client_secret:window.$h.clientSecret,client_id:window.$h.clientId},{baseURL:window.$h.authUrl,timeout:window.$h.requestTimeout,transformRequest:[function(e){return k.a.stringify(e)}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})),t.next=13,e._refreshToken;case 13:return l=t.sent,d=l.data,window.$h.bus.emit("setLoginInfo",{refreshToken:d.refresh_token,accessToken:d.access_token,lastUpdateTime:(new Date).getTime(),expiresIn:1e3*d.expires_in,scope:d.scope}),t.abrupt("return",s);case 17:case"end":return t.stop()}},t)}));function n(){return t.apply(this,arguments)}return n}()},{key:"_logout",value:function(){window.$h.bus.emit("logout")}},{key:"_login",value:function(){window.$h.bus.emit("login")}},{key:"_handleUnauthorized",value:function(){throw e._logout(),new Error("".concat(R(),"401-无权限，请重新登录"))}},{key:"makeRequestIns",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.$h.requestTimeout;if(p()(t))return new e({baseUrl:t,timeout:n}).getRequest();var r=t;return new e(r).getRequest()}},{key:"makeBaseRequestIns",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t;return n.baseUrl=window.$h.baseUrl,new e(n).getRequest()}},{key:"makeBaseRequestInsWithUnauth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t;return n.baseUrl=window.$h.baseUrl,n.requestSuccessInterceptor=e.unauthRequestInterceptor,new e(n).getRequest()}},{key:"makeAuthRequestInsWithUnauthAndPlain",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t;n.baseUrl=window.$h.authUrl,n.requestSuccessInterceptor=e.unauthRequestInterceptor,n.responseSuccessInterceptor=e.plainDataResponseInterceptor;var r=new e(n).getRequest();return r}},{key:"makePagingRequest",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],l=s;if(l.pageNum=i,l.pageSize=c,u){var d=u.filter(function(e){return!o()(e.order)}).sort(function(e,t){return e.order-t.order}).map(function(e){return'"'.concat(e.prop,'":"').concat(e.order,'"')}),p="{".concat(d.join(","),"}");l._sortColumn=encodeURIComponent(p)}r&&(l=r(l));var f=n;f.params=l;var h=a||e.makeBaseRequestIns();return h.get(t,f)}}},{key:"makeFormDataRequest",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return function(s){var o,i=t,u=n;if(c()(u,"headers.Content-Type")||w()(u,"headers.Content-Type","multipart/form-data"),r){var l=r(s,n),d=l.url,p=l.formData,f=l.option;o=p,i=d,u=f}else o=new FormData,Object.keys(s).forEach(function(e){o.append(e,s[e])});var h=a||e.makeBaseRequestIns(),g=h.post(i,o,u);return g}}},{key:"makeUploadRequest",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return function(s,o){var i,c=n;c.onUploadProgress=function(e){o(e)},c.cancelToken=new y.a.CancelToken(function(e){i=e});var u=e.makeFormDataRequest(t,c,r,a)(s);return u.abort=i,u}}}]),e}();P(A,"errorInterceptor",function(){var e=$(a.a.mark(function e(t){var n,r,s,o;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t,h()(t)&&"Request failed with status code 401"===t.message)try{A._handleUnauthorized()}catch(r){n=r}throw p()(n)&&(n=new Error(n)),r=null,r=l()(n.message,R())?new Error(n.message.replace(R(),"")):new Error("L500-网络异常，发送请求失败"),s=r.message.split("-")[1],o=c()(window,"$c.$message.error"),o&&o(s),r;case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),P(A,"hscfResponseInterceptor",function(){var e=$(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_["a"].lang.strategy({200:function(){var e=$(a.a.mark(function e(){var n,r,s;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.data,r={200:function(){var e=$(a.a.mark(function e(){return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",n.data);case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),401:A._handleUnauthorized,700:function(){var e=$(a.a.mark(function e(){return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:throw A._logout(),new Error("".concat(R(),"700-").concat(n.message));case 2:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),760:function(){var e=$(a.a.mark(function e(){var t,r;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=c()(window,"$c.$message"),t&&t.closeAll(),r=c()(window,"$c.$confirm"),!r){e.next=6;break}return e.next=6,r(n.message,"提示",{confirmButtonText:"确定",type:"warning",showCancelButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1});case 6:throw A._logout(),new Error("".concat(R(),"760-").concat(n.message));case 8:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},e.next=4,_["a"].lang.strategy(r,String(n.code),$(a.a.mark(function e(){return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:throw new Error("".concat(R()).concat(n.code||"null","-").concat(n.message||"后台的数据结构有误"));case 1:case"end":return e.stop()}},e)})));case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}},e)}));function n(){return e.apply(this,arguments)}return n}(),401:A._handleUnauthorized},String(t.status),$(a.a.mark(function e(){return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:throw new Error("".concat(R()).concat(t.status,"-网络出现错误, http状态码为:").concat(t.status));case 1:case"end":return e.stop()}},e)})));case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),e.next=11,A.errorInterceptor(e.t0);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()),P(A,"plainDataResponseInterceptor",function(){var e=$(a.a.mark(function e(t){return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",t.data);case 4:return e.prev=4,e.t0=e["catch"](0),e.next=8,A.errorInterceptor(e.t0);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}},e,null,[[0,4]])}));return function(t){return e.apply(this,arguments)}}())},f087:function(e,t,n){"use strict";n.r(t);var r=n("6372"),a=n("e1d2");function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=a["a"].makeBaseRequestIns(),c=a["a"].makeAuthRequestInsWithUnauthAndPlain(),u={getCurrentUser:function(){return i.get("/users/currentUser")},login:function(e){return c.post("/auth/token",s({grantType:"password",clientId:r["a"].clientId,clientSecret:r["a"].clientSecret,scope:""},e))}};u.listLoginLogs=a["a"].makePagingRequest("/loginLogs"),u.paging=a["a"].makePagingRequest("/users"),u.get=function(e){return i.get("/users/".concat(e))},u.add=function(e){return i.post("/users",e)},u.update=function(e){return i.put("/users",e)},t["default"]=u},ff23:function(e,t,n){var r=n("baf2");function a(e){return"number"==typeof e&&e==r(e)}e.exports=a}}]);